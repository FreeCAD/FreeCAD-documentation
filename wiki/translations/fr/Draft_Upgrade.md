---
- GuiCommand:
   Name: Draft Upgrade
   Name/fr: Draft Agréger
   MenuLocation: Modification - Agréger
   Workbenches: [Draft](Draft_Workbench/fr.md), [Arch](Arch_Workbench/fr.md)
   Shortcut: **U** **P**
   SeeAlso: [Draft Désagréger](Draft_Downgrade/fr.md)
---

# Draft Upgrade/fr

## Description

La commande <img alt="" src=images/Draft_Upgrade.svg  style="width:24px;"> **Draft Agréger** assemble les objets sélectionnés. Le résultat dépend du nombre d\'objets sélectionnés et de leur type. La commande peut par exemple fusionner des éléments et créer des faces. Il vaut la peine d\'essayer d\'améliorer une sélection plusieurs fois pour voir si un meilleur résultat peut être obtenu. Voir l\'exemple dans l\'image. Notez que tous les objets ne peuvent pas être mis à jour. Cette commande est le pendant de la commande [Draft Désagréger](Draft_Downgrade/fr.md).

<img alt="" src=images/Draft_Upgrade_example.jpg  style="width:400px;"> 
*Une polyligne ouverte non modifiable est transformée en polyligne fermée, puis en une face. Une polyligne carrée fermée non modifiable est également promue vers une face. Les deux faces sont ensuite promues pour créer un composé, qui est finalement promu vers une polyligne Draft modifiable.*

## Utilisation

1.  En option, sélectionnez un ou plusieurs objets.
2.  Il existe plusieurs façons de lancer la commande :
    -   Appuyez sur le bouton **<img src="images/Draft_Upgrade.svg" width=16px> [Agréger](Draft_Upgrade/fr.md)**.
    -   Sélectionnez l\'option **Modification → <img src="images/Draft_Upgrade.svg" width=16px> Agréger** dans le menu.
    -   Utilisez le raccourci clavier : **U** puis **P**.
3.  Si vous n\'avez pas encore sélectionné d\'objet : sélectionnez un objet dans la [Vue 3D](3D_view/fr.md).

## Remarques

-   Les [Draft Lignes](Draft_Line/fr.md) et [Draft Polylignes](Draft_Wire/fr.md) peuvent être jointes avec cette commande, mais aussi avec la commande [Draft Joindre](Draft_Join/fr.md) ou la commande [Draft Polylignes](Draft_Wire/fr.md) .

## Script

Voir aussi : [Autogenerated API documentation](https://freecad.github.io/SourceDoc/) et [FreeCAD Débuter avec les scripts](FreeCAD_Scripting_Basics/fr.md).

Pour mettre à jour des objets, utilisez la méthode `upgrade` de l\'atelier Draft.


```python
upgrade_list = upgrade(objects, delete=False, force=None)
```

-    `objects`contient les objets à mettre à jour. Il s\'agit soit d\'un objet unique, soit d\'une liste d\'objets.

-   Si `delete` est `True`, les objets sources sont supprimés.

-    `force`force une certaine manière de mettre à niveau en appelant une fonction interne spécifique. Cela peut être : `"makeCompound"`, `"closeGroupWires"`, `"makeSolid"`, `"closeWire"`, `"turnToParts"`, `"makeFusion"`, `"makeShell"`, `"makeFaces"`, `"draftify"`, `"joinFaces"`, `"makeSketchFace"`, `"makeWires"` ou `"turnToLine"`.

-    `upgrade_list`est retourné. C\'est une liste contenant deux listes : une liste de nouveaux objets et une liste d\'objets à supprimer. Si `delete` est `True`, la seconde liste est vide.

Exemple :


```python
import FreeCAD as App
import Draft

doc = App.newDocument()

circle = Draft.make_circle(1000)
rectangle = Draft.make_rectangle(2000, 800)
doc.recompute()

add_list1, delete_list1 = Draft.upgrade([circle, rectangle], delete=False)

line1 = Draft.make_line(App.Vector(2000, 0, 0), App.Vector(2500, 1500, 0))
line2 = Draft.make_line(App.Vector(2500, 1500, 0), App.Vector(3000, -1000, 0))
doc.recompute()

add_list2, delete_list2 = Draft.upgrade([line1, line2], delete=False)

simple_wire = add_list2[0]
add_list3, delete_list3 = Draft.upgrade(simple_wire, delete=False)

closed_wire = add_list3[0]
add_list4, delete_list4 = Draft.upgrade(closed_wire, delete=False)

face = add_list4[0]
add_list5, delete_list5 = Draft.upgrade(face, delete=False)

doc.recompute()
```



---
⏵ [documentation index](../README.md) > [Draft](Draft_Workbench.md) > Draft Upgrade/fr
