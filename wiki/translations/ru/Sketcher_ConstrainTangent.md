---
- GuiCommand:/ru
   Name/ru:Ограничение касательности
   Name:Sketcher_ConstrainTangent
   MenuLocation:Sketch → Ограничения эскиза → Ограничение касательности
   Workbenches:[Sketcher](Sketcher_Workbench/ru.md)
   Shortcut:**T**
   SeeAlso:[Зафиксировать точку на объекте](Sketcher_ConstrainPointOnObject/ru.md)
---

# Sketcher ConstrainTangent/ru



## Описание

Ограничение касательности делает две кривые касающимися друг друга. Линии полагаются бесконечными, а дуги как полные окружности или эллипсы. Ограничение также может соединять две кривые, заставляя их идти по касательной в точке соединения, делая переход гладким.

Ограничение касательности также можно использовать с двумя линиями, чтобы сделать их коллинеарными.



## Применение

Возможны пять вариантов применения данного ограничения:

1.  между двумя кривыми (доступно не для всех кривых)
2.  между двумя конечными точками кривой, делая гладкое соединение
3.  между кривой и конечной точкой другой кривой
4.  между двумя кривыми в точке, определённой пользователем
5.  между двумя линиями для создания условия коллинеарности

Для назначения ограничения касательности следует:

-   Выделить две или три элемента эскиза.
-   Вызвать ограничение, кликнув его иконку на панели инструментов или выделив в меню, или использовав клавиатурное сокращение.

### Между двумя кривыми (прямое касание) 

<img alt="" src=images/Sketcher_ConsraintTangent_mode1.png  style="width:600px;">

Две прямые станут касательными, но точка касания будет неопределённой. Этот режим назначается, когда выделены две кривые.

**Допустимые выделения:**

-   линия + линия, окружность, дуга, эллипс, дуга эллипса
-   окружность, дуга + окружность, дуга

Если прямое касание между выделенными кривыми не поддерживается (например, между оуружностью и эллипсом), автоматически будет добавлена вспомогательная точка, и будет применено tangency-via-point.

Не рекомендуется реконструировать точку касания созданием точки и установкой принадлежности её обоим кривым. Это будет работать, но конвергенция будет значительно медленнее, сложнее, и потребует вдвое больше итераций чем в норме. Используйте другие режимы этого ограничения, если нужна точка касания.

### Между двумя конечными точками (касание точка-к-точке) 

<img alt="" src=images/Sketcher_ConsraintTangent_mode2.png  style="width:600px;">

В этом режиме конечные точки делаются совпадающими, и соединение делается касательным (C1-smooth, или \"sharp\", в зависимости от расположения кривых перед применением ограничения). Этот режим применяется, когда выделены две конечные точки двух кривых. Если вам нужно такое касание, вы не должны использовать совпадение плюс касание между кривыми/линиями. Решатель не может создать стабильные решения для этой комбинации и соответствующим образом заменяет ограничения.

**Допустимые выделения:**

-   конечная точка линии/дуги/дуги-эллипса + конечная точка линии/дуги/дуги-эллипса (т.е. две конечные точки любых двух кривых)

### Между кривой и конечной точкой (касательная точки к кривой) 

<img alt="" src=images/Sketcher_ConsraintTangent_mode3.png  style="width:600px;">

В этом режиме конечная точка одной кривой ограничивается лежать на другой кривой так, чтобы обе кривые были касательными в этой точке. Этот режим применяется, когда выделены кривая и конечная точка другой кривой.

**Допустимое выделение:**

-   линия, окружность, дуга, эллипс, дуга эллипса + конечная точка линии/дуги/дуги эллипса (то есть любая кривая + конечная точка любой кривой)

### Между двумя кривыми в точке (касательная через точку) (v0.15) 

<img alt="" src=images/Sketcher_ConsraintTangent_mode4.png  style="width:600px;">

В этом режиме две кривые делаются касательными и отслеживается точка касания. Этот режим применяется, когда выделены две кривые и точка.

**Допустимое выделение:**

-   любая линия/кривая + любая линия/кривая + любая точка

\"Любая точка\" может быть отдельной точкой, или точкой чего-либо, например, центр окружности, конечная точка дуги, начальная точка.

Чтобы ограничение работало правильно, точка должна быть на обоих кривых. Поэтому как только ограничение вызвано, точка будет автоматически ограничена на двух кривых (если нужно, будет добавлено [вспомогательное ограничение](Sketcher_helper_constraint/ru.md)), и кривые станут касательными в этой точке. Эти [вспомогательные ограничения](Sketcher_helper_constraint/ru.md) - простые регулярные ограничения. Они могут быть добавлены вручную, или удалены.

В сравнении с прямой касательностью, это ограничение медленнее, поскольку привлекается большее число степеней свободы, но если нужна точка касания, это рекомендованный режим, поскольку он предлагает лучшую сходимость в сравнении к прямому касанию + точке на двух кривых.

Подсказкой вычислителю, где должно быть касание, будет размещение точки перед наложением ограничения. С этим ограничением можно ограничить два эллипса на касание в двух точках.



### Между двумя линиями (коллинеарно) 

<img alt="" src=images/Sketcher_ConstraintTangent_mode5.png  style="width:600px;">

**Допустимое выделение:**

-   любая линия/вершина + любая линия/вершина



## Программирование

Ограничение касательности может создаваться из [макросов](Macros/ru.md) и из консоли [Python](Python/ru.md) следующим образом: 
```python
# direct tangency
Sketch.addConstraint(Sketcher.Constraint('Tangent',icurve1,icurve2))

# point-to-point tangency
Sketch.addConstraint(Sketcher.Constraint('Tangent',icurve1,pointpos1,icurve2,pointpos2))

# point-to-curve tangency
Sketch.addConstraint(Sketcher.Constraint('Tangent',icurve1,pointpos1,icurve2))

# tangent-via-point (plain constraint, helpers are not added automatically)
Sketch.addConstraint(Sketcher.Constraint('TangentViaPoint',icurve1,icurve2,geoidpoint,pointpos)) 
``` Где:

  - `Sketch` это объект эскиза

  - `icurve1`, `icurve2` это два целых идентификатора кривых, которые станут касательными. Целые это индексы в эскизе (значения, возвращаемые `Sketch.addGeometry`).

  - `pointpos1`, `pointpos2` должны быть 1 для начальной и 2 для конечной точки.

  - `geoidpoint` и `pointpos` в `TangentViaPoint` это индексы, указывающие точку касания.

На странице [Программирование в Sketcher](Sketcher_scripting/ru.md) объясняются значения, которые можно использовать для `incurve1`, `incurve2`, `pointpos1`, `pointpos2`, `geoidpoint` и `pointpos` а также содержатся дополнительные примеры того, как создавать ограничения из сценариев Python.





{{Sketcher_Tools_navi

}}



---
![](images/Right_arrow.png) [documentation index](../README.md) > [Sketcher](Sketcher_Workbench.md) > Sketcher ConstrainTangent/ru
