# FEM Shear of a Composite Block/ru
---
- TutorialInfo:/ru
   Topic: Анализ методом конечных Элементов
   Level: Beginner/Intermediate
   Time: 30 минут
   Author:[http://www.freecadweb.org/wiki/index.php?title=User: HarryvL]
   FCVersion:0.17.12960 и выше
}}

## Введение

В этом уроке мы анализируем деформацию сдвига композитного блока, состоящего из жесткого ядра, встроенного в мягкую матрицу. Он демонстрирует использование BooleanFragments и CompoundFilter для создания твердых тел для блока и матрицы из двух концентрических кубов. Этот рабочий процесс гарантирует, что для блока и окружающей матрицы могут быть определены отдельные MeshRegions, материалы и граничные условия. Чтобы выбрать внутренние регионы, мы используем макроса Маркуса Говорка (https://github.com/drhooves/SelectionTools). Результаты CalculiX ясно показывают влияние жесткого ядра на реакцию композитного блока.

## Геометрия

Сначала мы создаем два концентрических куба, один размер 10 мм, а другой размер 5 мм. Это сделано в верстаке \"Part\". По умолчанию куб размещается в начале координат \[0, 0, 0\], поэтому меньший куб необходимо уменьшить и сместить, изменив настройки на вкладке «Данные» панели свойств. Чтобы сделать ядро ​​видимым, прозрачность внешнего блока установлена ​​на 50 на вкладке «Вид» панели свойств. Результат показан ниже.

<img alt="" src=images/Pic1.png  style="width:700px;">

Затем выделите два блока в дереве и создайте объект BooleanFragments (Деталь → Разделить → [Boolean Fragments](Part_BooleanFragments/ru.md)). В Окне свойств, на вкладке Данные, измените Mode на CompSolid. Теперь выделите BooleanFragments в дереве объектов и создайте [CompoundFilter](Part_CompoundFilter/ru.md) (Деталь → Соединить → Фильтр соединений).

<img alt="" src=images/Pic2.png  style="width:700px;">

## Mesh и Mesh Regions 

В верстаке FEM мы создаем контейнер анализа. Он будет содержать все определения, необходимые для анализа через CalculiX и его результатов. Обратите внимание, что этот контейнер анализа необходимо активировать (щелкните правой кнопкой мыши и выберите «Активировать анализ») каждый раз при повторной загрузке файла или после переключения обратно с других анализов. Чтобы начать процесс создания сетки, выделите CompoundFilter в дереве объектов и активируйте диалоговое окно создания сетки «Mesh → [Сетка МКЭ из фигуры генерируемая построителем Gmsh](FEM_MeshGmshFromShape/ru.md)». Выйдите из диалогового окна, нажав ОК.

Теперь в дереве объектов создан объект Mesh. Выделите этот объект и создайте объект Mesh Region через «Mesh → [Область сетки МКЭ](FEM_MeshRegion/ru.md)». Откройте диалоговое окно для этой Mesh Region, дважды щелкнув и отметив переключатель для Твердотельный объект. Затем нажмите кнопку «Добавить ссылку» и выберите объект CompoundFilter в графическом окне. Это должно добавить ссылку на «CompoundFilter: Solid1» в список объектов области сетки. Наконец, укажите максимальный размер элемента для этой области (5 мм в текущем анализе). Выйдите из диалогового окна, нажав ОК.

<img alt="" src=images/Pic3.png  style="width:700px;">

Затем создайте новый объект Mesh, как указано выше, и используйте макрос выделения (быстрые клавиши S, E), чтобы выбрать объект Cube_Core в графическом окне. На этот раз в списке ссылок должно быть указано «CompoundFilter: Solid2», как показано ниже. Мы выбрали максимальный размер элемента 1 мм.

Примечание1: для выбора «CompoundFilter: Solid2» необходимо выбрать одну из его граней.

Примечание 2. Если у вас возникли трудности с выделением «CompoundFilter: Solid2», это может быть связано с тем, что вы забыли установить для режима BooleanFragments значение CompSolid.

<img alt="" src=images/Pic4.png  style="width:700px;">



## Назначение материала 

Материал назначается областям сетки МКЭ через объект SolidMaterial. В этом уроке мы назначаем два материала; один для матрицы и один для ядра.

Начните с выбора CompoundFilter в дереве объектов. Затем создайте объект SolidMaterial через пункт меню «Model → Твердотельный материал». Откройте диалоговое окно и установите переключатель для Solid, нажмите «Добавить ссылку» и выберите объект CompoundFilter в графическом окне. В списке ссылок теперь должно отображаться «CompoundFilter: Solid1», как и раньше. Мы назначаем Матрице материал АБС с модулями Юнга примерно на 1% от стали.

<img alt="" src=images/Pic5.png  style="width:700px;">

Повторите описанную выше процедуру для Core (\"CompoundFilter: Solid2\") с помощью макроса выбора. На этот раз мы назначаем CalculiX-Steel, которая намного жестче, чем материал ABS для Matrix.



## Скользящая опора 

Чтобы создать условие «простого сдвига» для составного блока, деформации на границах должны быть неограниченными. Для этого блок ставится на выдвижную опору. Это оставляет три степени свободы в плоскости опоры (2 переноса и вращение), которые будут ограничены позже. (Примечание: поскольку плоскость предотвращает деформацию грани, она по-прежнему вызывает небольшое ограничение, которое можно устранить другим выбором граничных условий). Чтобы создать скользящее граничное условие, добавьте объект FemConstraintDisplacement (Model → Mechanical Constraints → Constraint displacement). В открытом диалоговом окне сначала выберите грань, к которой будут применяться граничные условия, а затем нажмите кнопку «Add». Поскольку блоку разрешено скользить в плоскости x-y, переключатель «Fixed» выбран только для «Displacement z», а все остальные переключатели оставлены как «Free».

<img alt="" src=images/Pic6.png  style="width:700px;">



## Фиксированные узлы 

Чтобы предотвратить движение твердого тела в плоскости скольжения, необходимо исключить три независимых степени свободы. Для этого одна вершина в плоскости скольжения ограничивается в направлении x и y (устраняя 2 степени свободы), а одна вершина фиксируется в направлении x (устраняя последнюю степень свободы). Для этого создаются два дополнительных объекта FemConstraintDisplacement, и результат показан ниже.

<img alt="" src=images/Pic7.png  style="width:700px;">

## Сила сдвига 

Последний шаг в определении анализа - приложение нагрузок. Чтобы создать условие простого сдвига, применяется набор поперечных нагрузок, как показано ниже. Каждая нагрузка выбирается равной 1000 Н, и с учетом направлений приложения равновесие сил и моментов достигается для всех поступательных и вращательных степеней свободы. В FC это требует добавления четырех объектов FemConstraintForce (Model → Mechanical Constraints → Constraint force) - по одному для каждой грани. В открытом диалоговом окне сначала нажмите кнопку « Add Reference», а затем выберите грань, к которой будет применяться граничное условие (Примечание: это иная последовательность, чем для FemConstraintDisplacement). По умолчанию это создает набор сил, перпендикулярных грани (т.е. нормальную силу). Чтобы изменить это на силу сдвига, нажмите кнопку направления и выберите ребро куба, которое проходит в желаемом направлении. Если результирующая сила направлена ​​в противоположном направлении от требуемого, выберите переключатель «Развернуть направление».

<img alt="" src=images/Pic8.png  style="width:700px;">



## Расчет CalculiX 

Теперь все области сетки, материалы и граничные условия определены, и мы готовы анализировать деформацию блока с помощью CalculiX. Активируйте анализ, щелкнув правой кнопкой мыши «Активировать анализ», откройте диалоговое окно CalculiX, дважды щелкнув объект CalculiXccxTools, и выберите каталог для временных файлов, созданных как FC, так и CCX. Запишите входной файл CCX и проверьте наличие предупреждений или сообщений об ошибках.

<img alt="" src=images/PIC9.png  style="width:700px;">

После этого анализ можно запустить, нажав кнопку RunCalculiX. Если все пойдет хорошо, в окне вывода CCX должны появиться следующие сообщения.

<img alt="" src=images/Pic10.png  style="width:700px;">



## Результаты CalculiX 

По завершении анализа дважды щелкните объект «CalculiX_static_results» и выберите опцию «Abs displacement». Максимальное смещение \~ 0,08 мм будет отображаться в соответствующем поле вывода. Поскольку максимальное смещение относительно мало по сравнению с размерами блока (\<1% от размера блока), смещения необходимо масштабировать. Это можно сделать под заголовком «Смещение», отметив радиокнопку «Показать» и масштабируя смещение с коэффициентом, скажем, 20. Теперь максимальное смещение будет увеличено примерно до 20% от размера окна. После закрытия диалогового окна деформированную сетку можно снова сделать видимой, выделив объект Result_mesh и нажав клавишу пробела.

<img alt="" src=images/Figure_11_Deformed_Mesh.png  style="width:700px;">

Чтобы исследовать деформацию сердечника, мы должны разрезать блок. Это можно сделать, создав фильтр отсечения. Чтобы активировать эту функцию, нам сначала нужно создать «конвейер постобработки», выделив объект «CalculiX_static_results» и выбрав в меню \"Results → Post Pipeline from Result\". Затем с выбранным конвейером создайте фильтр деформации (Results → Warp filter), установите в Warp options Vector=Displacement и Value=20 для масштабирования смещения, а в Result display options - Mode=«Surface with Edges», в Coloring - Field=«Displacement», Vector=«Magnitude», чтобы отобразить цветные контуры смещения. Нажмите Применить и ОК. В качестве последнего шага добавьте фильтр обрезки (Results → Clip filter) и создайте плоскость с началом координат \[5.0,2.5,5.0\] и нормалью \[0,1,0\], то есть на грани ядра с нормалью в направлении y. Установите переключатель «Cut Cells», чтобы создать плоскую поверхность. Как и раньше, установите Display Mode = \"Surface with Edges\", Coloring Field = \"Displacement\", Vector = \"Magnitude\", чтобы показать цветные контуры смещения. Нажмите Применить и ОК. Наконец, переключите фильтр деформации на невидимый, чтобы отображался только вырезанный блок.

<img alt="" src=images/Figure12_Deformed_Mesh_Clipped_View_(2).png  style="width:700px;">

Из результата ясно, что сердцевина остается в значительной степени недеформированной и помогает противостоять деформации мягкой матрицы (сравните угол сдвига части, окрашенной в синий цвет, с углом сдвига части, окрашенной в зеленый цвет). Однако это также подчеркивает, что в условиях простого сдвига грани составного блока деформируются, что означает, что граничное условие скольжения в основании куба действительно создает чрезмерное ограничение.



## Дальнейшая работа 

Следующие задачи могут быть интересны в качестве дальнейшего упражнения:

1\) Исправьте чрезмерное ограничение, накладываемое граничным условием скольжения.

2\) Попробуйте создать контактные граничные условия между сердечником и матрицей, чтобы увидеть, происходит ли разделение

Файл FreeCAD для этого руководства в качестве отправной точки прилагается ниже.

<https://forum.freecadweb.org/viewtopic.php?f=18&t=26517&start=20>

Позабавьте себя !


{{FEM Tools navi

}} {{Userdocnavi
---



---
⏵ [documentation index](../README.md) > [FEM](Category_FEM.md) > FEM Shear of a Composite Block/ru
