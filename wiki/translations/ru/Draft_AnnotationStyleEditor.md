---
- GuiCommand:/ru
   Name:Draft AnnotationStyleEditor
   Name/ru:Draft AnnotationStyleEditor
   MenuLocation:Annotation → Annotation styles
   Workbenches:[Draft](Draft_Workbench/ru.md)
   Shortcut:-
   SeeAlso:[Draft Text](Draft_Text/ru.md), [Draft Dimension](Draft_Dimension/ru.md), [Draft Label](Draft_Label/ru.md)
   Version:0.19
---

# Draft AnnotationStyleEditor/ru


</div>

## Description

The <img alt="" src=images/Draft_AnnotationStyleEditor.svg  style="width:24px;"> **Draft AnnotationStyleEditor** command allows you to define styles that affect the visual properties of annotation-like objects, such as those create by the [Draft Text](Draft_Text.md), [Draft Dimension](Draft_Dimension.md) and [Draft Label](Draft_Label.md) commands.


<small>(v1.0)</small> 

: Several bugs have been fixed and a separate Text color button has been added.

![](images/Draft_AnnotationStyleEditor_Dialog.png ) 
*The Annotation Styles Editor dialog box*

## Usage

1.  There are several ways to invoke the command:
    -   Press the **<img src="images/Draft_AnnotationStyleEditor.svg" width=16px> [Draft AnnotationStyleEditor](Draft_AnnotationStyleEditor.md)** button.
    -   Select the **Annotation → <img src="images/Draft_AnnotationStyleEditor.svg" width=16px> Annotation styles...** option from the menu.
2.  The **Annotation Styles Editor** dialog box opens.
3.  Select a style from the **Style name** dropdown list, or choose {{Value|Add new...}} to define a new style.
4.  Optionally adjust the properties of the style.
5.  Optionally press the **[<img src=images/Accessories-text-editor.svg style="width:16px"> Rename** button to rename the style.
6.  Optionally press the **[<img src=images/Edit_Cancel.svg style="width:16px"> Delete** button to delete the style.
7.  Optionally press the **[<img src=images/Std_Import.svg style="width:16px">** button to import all styles from a **.json** file. This will overwrite existing styles with the same name.
8.  Optionally press the **[<img src=images/Std_Export.svg style="width:16px">** button to export all styles to a **.json** file.
9.  Press the **OK** button to close the dialog box and finish the command.

## Scripting

See also: [Autogenerated API documentation](https://freecad.github.io/SourceDoc/) and [FreeCAD Scripting Basics](FreeCAD_Scripting_Basics.md).


<small>(v1.0)</small> 

: The information in this paragraph has been updated and reflects FreeCAD version 1.0.

The annotation styles are saved as serialized dictionaries in the `Meta` attribute of the document. This attribute is inspected by the annotation style editor when it is opened.


```python
>>> print(App.ActiveDocument.Meta["Draft_Style_Text red"])
{"FontName": "DejaVu Sans", "FontSize": 10.0, "LineSpacing": 1.0, "TextColor": 4278190335, "ScaleMultiplier": 1.0, "ShowUnit": false, "UnitOverride": "", "Decimals": 2, "ShowLine": true, "LineWidth": 2, "ArrowType": 0, "ArrowSize": 2.0, "LineColor": 255, "DimOvershoot": 0.0, "ExtLines": 0.0, "ExtOvershoot": 4.0}
```

Each style that appears in the editor is internally saved with the style name prefixed by `Draft_Style_`; this will prevent name clashes with other keys that may be saved in `Meta`, which can hold arbitrary information.

You may define any new style by adding the necessary information to a key that starts with `Draft_Style_`. The corresponding value of this key must be a dictionary serialized using `json`.


```python
import json

meta = App.ActiveDocument.Meta
props = {"LineWidth": 6, "ArrowSize": 7.0}
meta["Draft_Style_Thick_lines"] = json.dumps(props)
App.ActiveDocument.Meta = meta
```

The properties not entered will be filled automatically when this style is selected in the style editor and the **OK** button is pressed.

In a similar way, any serialized dictionary can be unpacked for edition.


```python
import json

meta = App.ActiveDocument.Meta
new_dict = json.loads(meta["Draft_Style_Thick_lines"])
```

The properties must have the following types:

Strings:


```python
props = {
    "FontName": "DejaVu Sans",
    "UnitOverride": ""
}
```

Floats (must be supplied with a decimal point):


```python
props = {
    "FontSize": 10.0,
    "LineSpacing": 1.0,
    "ScaleMultiplier": 1.0,
    "ArrowSize": 2.0,
    "DimOvershoot": 0.0,
    "ExtLines": 0.0,
    "ExtOvershoot": 4.0
}
```

Integers:


```python
props = {
    "TextColor": 4278190335,
    "Decimals": 2,
    "LineWidth": 2,
    "ArrowType": 0,
    "LineColor": 255
}
```

The {{Incode|TextColor}} and {{Incode|LineColor}} correspond to a 32-bit integer, from which the individual RGBA values can be extracted. The {{Incode|ArrowType}} is an enumerator.

Booleans:


```python
props = {
    "ShowUnit": false,
    "ShowLine": true
}
```



---
![](images/Right_arrow.png) [documentation index](../README.md) > [Draft](Draft_Workbench.md) > Draft AnnotationStyleEditor/ru
